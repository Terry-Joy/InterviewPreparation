## 1.OSI七层模型及其主要功能
[![Hj86ud.png](https://s4.ax1x.com/2022/02/21/Hj86ud.png)](https://imgtu.com/i/Hj86ud)

+ 应用层：为用户的应用进程提供网络通信服务。在互联网中的应用层协议很多，如域名系统DNS、HTTP协议、SMTP协议等。
+ 表示层：处理用户信息的表示问题，数据的编码，压缩和解压缩，数据的加密和解密
+ 会话层：负责在网络中的两节点之间建立、维持和终止通信
+ 传输层：负责向两台主机进程之间的通信提供数据传输服务。传输层的协议主要有传输控制协议TCP和用户数据协议UDP。
+ 网络层：选择合适的路由和交换结点，确保数据及时传送。主要包括$IP,ICMP$协议。
+ 数据链路层：在两个相邻节点之间传送数据时，数据链路层将网络层交下来的$ IP$ 数据报组装成帧，在两个相邻节点间的链路上传送帧。
+ 物理层：实现相邻节点间比特流的透明传输，尽可能屏蔽传输介质和物理设备的差异。


## 2.ARP协议及其工作原理
### ARP协议
在网络层上方使用$IP$地址标识主机，但在数据链路层我们需要用知道主机的硬件地址(MAC地址)。

ARP是IPv4协议中实现从$IP$地址向物理地址的动态映射。(IPv6 使用邻居发现协议，ICMPv6中)

### ARP协议工作原理
每台主机都会在自己的ARP缓冲区中建立一个ARP列表，以表示IP地址和MAC地址的对应关系。
+ 当源主机需要将一个数据包要发送到目的主机时，会首先检查自己 ARP列表中是否存在该 IP地址对应的MAC地址，如果有，就直接将数据包发送到这个MAC地址；如果没有，就向本地网段发起一个ARP请求的广播包，(ff:ff:ff:ff:ff:ff), 查询此目的主机对应的MAC地址。此ARP请求数据包里包括源主机的IP地址、硬件地址、以及目的主机的IP地址。
+ 网络中所有的主机收到这个ARP请求后，会检查数据包中的目的IP是否和自己的IP地址一致。如果不相同就忽略此数据包；如果相同，该主机首先将发送端的MAC地址和IP地址添加到自己的ARP列表中，如果ARP表中已经存在该IP的信息，则将其覆盖，然后给源主机发送一个 ARP响应数据包，告诉对方自己是它需要查找的MAC地址。
+ 源主机收到这个ARP响应数据包后，将得到的目的主机的IP地址和MAC地址添加到自己的ARP列表中，并利用此信息开始数据的传输。
+ 如果源主机一直没有收到ARP响应数据包，表示ARP查询失败。
(如果本地网段无法查询，则通过网关路由表向外查询)#

## 3.RARP协议及其工作原理

反向地址转换协议，网络层协议，RARP与ARP工作方式相反。 RARP使只知道自己硬件地址的
主机能够知道其IP地址。RARP发出要反向解释的物理地址并希望返回其IP地址，应答包括能够提供所
需信息的RARP服务器发出的IP地址。
原理：
(1)网络上的每台设备都会有一个独一无二的硬件地址，通常是由设备厂商分配的MAC地址。主机从网
卡上读取MAC地址，然后在网络上发送一个RARP请求的广播数据包，请求**RARP服务器**回复该主机的
IP地址。
(2)RARP服务器收到了RARP请求数据包，为其分配IP地址，并将RARP响应发送给主机。
(3)PC1收到RARP回应后，就使用得到的IP地址进行通讯。

## 4.简述DNS
DNS是域名系统，是一个分布式的数据库。用于将主机名和域名转换为$IP$地址的工作。
DNS采取树状层次域名结构，分级自上而下分别为根域名、顶级域名、二级域名、三级域名。
域名服务器自上而下分为根域名服务器，顶级域名服务，权限域名服务器。

## 5.DNS解析过程
+ 从浏览器缓存中查找，找到直接返回IP
+ 没有，找操作系统hosts文件和本地DNS解析器缓存
+ 仍没有，就将域名发送到本地域名服务器(由ISP管理)去请求，这个过程也就是"递归查询"，本地域名服务器查询自己DNS缓存寻找对应域名，(多级缓存机制，从www.baidu.com -> com，没问到别答)，有就返回，都没有依次就向根域名服务器，顶级域名服务器，权威域名服务器进行迭代查询。（本地DNS服务器通过端口53）具体来讲就是根服务器查询对应域名有IP地址，若有就返回IP，否则就返回对应下一级域名服务器的地址，本地域名服务器会继续查询，以此类推，最后返回IP地址给本地域名服务器
+ 本地域名服务器缓存该IP地址和域名，同时返回IP地址给主机
+ 主机操作系统将IP返回给浏览器
+ 浏览器得到域名对应IP地址并缓存

**UDP传输**

## 6.谈谈你对域名缓存的了了解？
DNS服务器上使用高速缓存，⽤来存放最近查询过的域名以及从何处获得域名映射信息的记录。本质是为了提⾼ DNS 查询效率，减轻服务器的负荷和减少因特⽹上的 DNS 查询报⽂。由于名字到地址的绑定并不经常改变，为保持⾼速缓存中的内容正确，域名服务器应为每项内容设置计时器并处理超过合理时间的项。当域名服务器器已从缓存中删去某项信息后⼜被请求查询该项信息，就必须重新到授权管理该项的域名服务器绑定信息。当权威服务器回答一个查询请求时，在响应中都指明绑定有效存在的时间值。增加此时间值可减少⽹网络开销，⽽而减少此时间值可提⾼高域名解析的正确性。
不不仅在本地域名服务器器中需要⾼高速缓存，在主机中也需要。许多主机在启动时从本地服务器下载名字和地址的全部数据库，维护存放⾃己最近使用的域名的⾼速缓存，并且只在从缓存中找不不到名字时才使⽤域名服务器器。维护本地域名服务器数据库的主机应当定期地检查域名服务器以获取新的映射信息，⽽且主机必须从缓存中删除无效的项。
由于域名改动并不不频繁，⼤多数网点不不需花精力就能维护数据库的⼀致性。